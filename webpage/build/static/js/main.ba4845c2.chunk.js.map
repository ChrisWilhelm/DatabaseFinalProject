{"version":3,"sources":["logo.svg","components/searchBar.js","config.js","App.js","reportWebVitals.js","index.js"],"names":["window","width","innerWidth","height","innerHeight","getWindowDimensions","SearchBar","query","setQuery","searchHook","onSubmit","className","style","display","borderRadius","justifyContent","alignItems","marginLeft","marginRight","type","value","onChange","event","target","border","padding","fontSize","flex","onClick","e","preventDefault","currentTarget","blur","paddingLeft","paddingRight","borderBottomRightRadius","borderTopRightRadius","backgroundColor","HOST","months","setLoading","setArticles","setError","url","console","log","fetch","headers","then","resp","status","json","catch","error","ratingColors","ratingStrings","RatingIcon","rating","index","useState","isOpen","setIsOpen","popoverName","toString","popoverSide","Button","id","onMouseEnter","onMouseLeave","color","Popover","placement","fade","margin","flexDirection","maxWidth","PopoverHeader","PopoverBody","fontFamily","textAlign","ArticleBody","article","date","Date","dateString","getMonth","getDate","getFullYear","contentStyle","background","contentArrowStyle","borderRight","icon","iconStyle","title","publisher","summary","href","link","site","doc_id","actions","updateQueryFromNeutral","action","relevant","irrelevant","push","body","q","undo","method","JSON","stringify","updateQueryFromOpposite","updateQueryToNeutral","LikeDislikeButton","likedState","setLikedState","updateOrUndoQueryWithLike","updateOrUndoQueryWithDislike","App","articles","searchSent","setSearchSent","isLoading","lastQuery","setLastQuery","map","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ba4845c2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, {useState} from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nconst {width, height} = getWindowDimensions();\n\n\nfunction SearchBar({query, setQuery, searchHook, onSubmit}) {\n\n    return (\n            <form\n                className='search-bar'\n                style={{\n                display: 'flex',\n                height: 75,\n                width: width * 0.6,\n                borderRadius: 50,\n                justifyContent: 'center',\n                alignItems: 'center'\n            }}>\n                <label\n                    className=\"search-bar-label\"\n                    style={{\n                    marginLeft: 50,\n                    marginRight: 10,\n                }}>\n                    <p>\n                    Search:\n                    </p>\n                </label>\n                <input\n                    className=\"search-input\"\n                    type=\"text\"\n                       value={query}\n                       onChange={event => setQuery(event.target.value)}\n                       style={{\n                           border: 0,\n                           padding: 10,\n                           fontSize: 25,\n                           flex: 1\n                       }}\n                />\n                <button className=\"search-button\" onClick={(e) => {\n                    e.preventDefault();\n                    searchHook();\n                    e.currentTarget.blur();\n                    onSubmit();\n                }}\n                    style={{\n                        border: 0,\n                        paddingLeft: 35,\n                        paddingRight: 50,\n                        borderBottomRightRadius: 50,\n                        borderTopRightRadius: 50,\n                        height: '100%',\n                        justifyContent: 'center',\n                        alignItems: 'center',\n                        display: 'flex',\n                        backgroundColor: '#89cff0'\n                    }}\n                >\n                    <p style={{\n                        fontSize: 24,\n                    }}>Submit</p>\n                </button>\n            </form>\n    );\n}\n\nexport default SearchBar;","export const HOST = \"http://127.0.0.1:8000\"","import logo from './logo.svg';\nimport './App.css';\nimport SearchBar from \"./components/searchBar\";\nimport {useState} from 'react';\nimport {\n    VerticalTimeline,\n    VerticalTimelineElement\n}  from 'react-vertical-timeline-component';\nimport {HOST} from \"./config\";\nimport 'react-vertical-timeline-component/style.min.css';\nimport {IoNewspaperOutline, FaThumbsUp, FaThumbsDown} from \"react-icons/all\";\nimport {Button, Popover, PopoverBody, PopoverHeader} from \"reactstrap\";\n\n\n\nconst months = [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n\"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ];\n\nfunction onSubmit(query, setLoading, setArticles, setError) {\n    setLoading(true);\n    setError(false);\n    const url = HOST + \"/query?q=\" + query\n    console.log(url);\n    fetch(url, {\n        headers: {\n            \"Accept\": \"*/*\",\n            \"Content-Type\": \"application/json\"\n        },\n    }).then((resp) => {\n        setLoading(false);\n        const statusCode = resp.status;\n        if (statusCode === 200) {\n            return resp.json();\n        } else {\n            setError(true);\n        }\n    }).then((json) => {\n        setArticles(json[\"results\"])\n    }).catch(error => error);\n}\n\nconst ratingColors = {\n    \"LEFT\": \"#0275d8\",\n    \"LEAN_LEFT\": \"#89CFF0\",\n    \"CENTER\": \"#888888\",\n    \"LEAN_RIGHT\": \"#ffcccb\",\n    \"RIGHT\": \"#d9534f\",\n    \"MIXED\": \"#b19cd9\"\n}\n\nconst ratingStrings = {\n    \"LEFT\": \"LEFT\",\n    \"LEAN_LEFT\": \"LEFT LEANING\",\n    \"CENTER\": \"CENTER LEANING\",\n    \"LEAN_RIGHT\": \"RIGHT LEANING\",\n    \"RIGHT\": \"RIGHT\",\n    \"MIXED\": \"MIXED\"\n}\n\n\nfunction App() {\n    const [articles, setArticles] = useState([]);\n    const [searchSent, setSearchSent] = useState(false);\n    const [query, setQuery] = useState(\"\");\n    const [isLoading, setLoading] = useState(false);\n    const [error, setError] = useState(false);\n    const [lastQuery, setLastQuery] = useState(\"\");\n\n    if (!searchSent) {\n       return (\n            <div className=\"app-container\">\n              <header className=\"App-header\">\n                  <h1>\n                      NewsLine\n                  </h1>\n                  <SearchBar\n                      searchHook={() => {\n                          setSearchSent(true);\n                          setLastQuery(query);\n                      }}\n                      setQuery={setQuery}\n                      query={query}\n                      onSubmit={() => {\n                        onSubmit(query, setLoading, setArticles, setError)\n                      }}/>\n              </header>\n            </div>\n       );\n    } else {\n        return (\n            <div className=\"app-container\">\n              <header className=\"search-results-header\">\n                  <SearchBar\n                      searchHook={() => {\n                          setSearchSent(true);\n                          setLastQuery(query);\n                      }}\n                      setQuery={setQuery}\n                      query={query}\n                      onSubmit={() => {\n                        onSubmit(query, setLoading, setArticles, setError)\n                      }}\n                  />\n              </header>\n                {isLoading &&\n                <div className=\"loader-container\">\n                    <div className=\"loader\" />\n                </div>}\n                {!isLoading && <div className=\"timeline-container\">\n                     <VerticalTimeline>\n                        {articles.map((article, index) =>\n                            <ArticleBody article={article} key={index} index={index}\n                                query={lastQuery}\n                            />)}\n                    </VerticalTimeline>\n                    </div>}\n            </div>\n        );\n    }\n}\n\nconst RatingIcon = ({rating, index}) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const onHover = () => {\n        setIsOpen(true);\n    }\n\n    const popoverName = \"Popover\" + index.toString();\n    const popoverSide = index % 2 === 0 ? \"right\" : \"left\";\n\n    const onHoverLeave = () => {\n        setIsOpen(false);\n    }\n\n    return (\n        <Button\n            id={popoverName}\n            className=\"rating-button\"\n            onMouseEnter={onHover}\n            onMouseLeave={onHoverLeave}\n            style={{\n                display: \"flex\",\n                width: '100%',\n                height: '100%',\n                border: 0,\n                backgroundColor: 'transparent'\n            }}\n        ><IoNewspaperOutline color={\"#fff\"}/>\n            { <Popover target={popoverName}\n                      placement={popoverSide}\n                      isOpen={isOpen}\n                      fade={true}\n            >\n                <div style={{\n                    backgroundColor: \"#fff\",\n                    borderRadius: 12,\n                    padding: 5,\n                    paddingLeft: 10,\n                    paddingRight: 10,\n                    margin: 25,\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    flexDirection: \"column\",\n                    maxWidth: 250\n                }}>\n                    <PopoverHeader>Political Bias</PopoverHeader>\n                    <PopoverBody\n                        style={{\n                            marginLeft: 20,\n                            marginRight: 20,\n                            fontFamily: \"Noto Sans SC\"\n                        }}\n                    >This site has a tendency to publish content rated as <p\n                        style={{\n                        color: ratingColors[rating],\n                        textAlign: 'center'\n                        }}\n                    >{ratingStrings[rating]}\n                    </p></PopoverBody>\n                </div>\n            </Popover>}\n        </Button>\n    );\n}\n\nconst ArticleBody = ({article, index, query}) => {\n    const date = article.date ? new Date(article.date) : null;\n    const dateString = date ? months[date.getMonth()] + \" \"\n        + (date.getDate()) + \", \" + date.getFullYear() : \"unlisted\";\n   return (\n       <VerticalTimelineElement\n        className=\"vertical-timeline-element--work\"\n        contentStyle={{ background: 'rgb(33, 150, 243)', color: '#fff',\n        }}\n        contentArrowStyle={{ borderRight: '7px solid  rgb(33, 150, 243)' }}\n        date={dateString}\n        icon={<RatingIcon index={index} rating={article.rating} />}\n        iconStyle={{ background: 'rgb(33, 150, 243)',\n            color: '#fff' }}\n       >\n           <h2\n           style={{\n               color: '#fff'\n           }}\n           >{article.title}</h2>\n           <h3\n           style={{\n               color: '#ccc'\n           }}\n           >{article.publisher}</h3>\n           <h4 className=\"article-summary\">{article.summary}</h4>\n           <div style={{\n               display: 'flex',\n               flexDirection: 'row',\n               justifyContent: 'space-between',\n           }}>\n               <div>\n                   <a className={\"article-link\"}\n                       target={\"blank\"} href={article.link}>Article</a>\n                   <a className={\"site-link\"}\n                      target={\"blank\"}\n                      href={article.site}>Site Home Page</a>\n               </div>\n               <LikeDislikeButton query={query} doc_id={article.doc_id}/>\n           </div>\n       </VerticalTimelineElement>\n   );\n}\n\nconst actions = {\n    SET_RELEVANT: 'SET_RELEVANT',\n    SET_IRRELEVANT: 'SET_IRRELEVANT',\n    UNDO_RELEVANT: 'UNDO_RELEVANT',\n    UNDO_IRRELEVANT: 'UNDO_IRRELEVANT'\n}\n\n\nconst updateQueryFromNeutral = (doc_id, query, action) => {\n    const relevant = [];\n    const irrelevant = [];\n    if (action === actions.SET_RELEVANT) {\n        relevant.push(doc_id);\n    } else if (action === actions.SET_IRRELEVANT) {\n        irrelevant.push(doc_id);\n    }\n    const body = {\n        q: query,\n        undo: \"False\",\n        relevant: relevant,\n        irrelevant: irrelevant\n    }\n    fetch(HOST + \"/query/update\", {\n        method: 'POST',\n        headers: {\n            \"Accept\": \"*/*\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n    }).then(resp => resp).catch(error => error)\n}\n\nconst updateQueryFromOpposite = (doc_id, query, action) => {\n    const relevant = [];\n    const irrelevant = [];\n    if (action === actions.SET_RELEVANT) {\n        relevant.push(doc_id);\n        relevant.push(doc_id);\n    } else if (action === actions.SET_IRRELEVANT) {\n        irrelevant.push(doc_id);\n        irrelevant.push(doc_id);\n    }\n    const body = {\n        q: query,\n        undo: \"False\",\n        relevant: relevant,\n        irrelevant: irrelevant\n    }\n    fetch(HOST + \"/query/update\", {\n        method: 'POST',\n        headers: {\n            \"Accept\": \"*/*\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n    }).then(resp => resp).catch(error => error)\n}\n\nconst updateQueryToNeutral = (doc_id, query, action) => {\n    const relevant = [];\n    const irrelevant = [];\n    if (action === actions.UNDO_RELEVANT) {\n        relevant.push(doc_id);\n    } else if (action === actions.UNDO_IRRELEVANT) {\n        irrelevant.push(doc_id);\n    }\n    const body = {\n        q: query,\n        undo: \"True\",\n        relevant: relevant,\n        irrelevant: irrelevant,\n    }\n    fetch(HOST + \"/query/update\", {\n        method: 'POST',\n        headers: {\n            \"Accept\": \"*/*\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n    }).then(resp => console.log(resp)).catch(error => error)\n}\n\n\nconst LikeDislikeButton = ({doc_id, query}) => {\n    const [likedState, setLikedState] = useState(0);\n\n    const changeStateWithLikeButton = () => {\n        if (likedState === 1) {\n            setLikedState(0);\n        } else {\n            setLikedState(1);\n        }\n    }\n\n    const changeStateWithDislikeButton = () => {\n        if (likedState === -1) {\n            setLikedState(0);\n        } else {\n            setLikedState(-1);\n        }\n    }\n\n    const updateOrUndoQueryWithLike = (query, doc_id) => {\n        if (!doc_id || !query) return;\n\n        if (likedState === -1) {\n            updateQueryFromOpposite(doc_id, query, actions.SET_RELEVANT);\n        } else if (likedState === 0) {\n            updateQueryFromNeutral(doc_id, query, actions.SET_RELEVANT);\n        } else {\n            updateQueryToNeutral(doc_id, query, actions.UNDO_RELEVANT);\n        }\n    }\n\n    const updateOrUndoQueryWithDislike = (query, doc_id) => {\n        if (!doc_id || !query) return;\n\n        if (likedState === 1) {\n            updateQueryFromOpposite(doc_id, query, actions.SET_IRRELEVANT);\n        } else if (likedState === 0) {\n            updateQueryFromNeutral(doc_id, query, actions.SET_IRRELEVANT);\n        } else {\n            updateQueryToNeutral(doc_id, query, actions.UNDO_IRRELEVANT);\n        }\n    }\n\n    return (\n        <div>\n            <button\n                style={{\n                    backgroundColor: likedState === 1 ? '#90ee90' : null\n                }}\n                onClick={() => {\n                    changeStateWithLikeButton();\n                    updateOrUndoQueryWithLike(query, doc_id);\n                }}\n                className={'thumb-button thumbs-up'}><FaThumbsUp /></button>\n            <button\n                style={{\n                    backgroundColor: likedState === -1 ? '#ff6961' : null\n                }}\n                onClick={() => {\n                    changeStateWithDislikeButton();\n                    updateOrUndoQueryWithDislike(query, doc_id);\n                }}\n                className={'thumb-button thumbs-down'}><FaThumbsDown /></button>\n        </div>\n    );\n}\n\nconst object2xwww = (obj) => Object.keys(obj).map(key =>\nencodeURIComponent(key) + '=' + encodeURIComponent(obj[key])).join('&');\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}